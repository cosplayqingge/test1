<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>022.promise的图片加载.html</title>
</head>
<body>
	
</body>
<script>
	// let promise = new promise((resolve,rejecr)=>{
	// 	var img = new Imgs();
	// 	img.onload = function(){
	// 		resolve('img/xg.jpg')
	// 	}
	// 	img.onerror = function(){
	// 		rejecr('img/ig.jpg')
	// 	};
	// 	img.src = "img/xg.jpg"
	// })
	// promise
	// .then((url)=>{
	// 	console.log("fulfilled::",data)//成功时执行的
	// },(url)=>{
	// 	console.log("rejicted::",err);//失败时执行的
	// })


	let aa = (url)=>{
		return  new Promise((resolve,rejecr)=>{
			var img = new Imgs();
			img.onload = function(){
				resolve(url)
			}
			img.onerror = function(){
				rejecr(url)
			};
			img.src = url;
		})
	}
	aa('img/xg.jpg')
	.then(url=>{
		console.log(url + "load!!!")
	},url=>{
		console.log(url + "loadad!!!")
	})




</script>
</html>