<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>012.手风琴.html</title>
	<style>
       *{
            margin: 0;
            padding: 0;
        }
       #box ul{
            width: 1246px;
            height: 310px;
            list-style-type: none;
            overflow:hidden;
        }
       #box ul li{
			float: left;
       	    width: 249.2px;
           	height: 310px;   
        }
    </style>
</head>
<body>
    <div id="box">
       <ul>
           <li><img src="qingge8.png" alt=""></li>
           <li><img src="qingge9.png" alt=""></li>
           <li><img src="qingge10.png" alt=""></li>
           <li><img src="qingge11.png" alt=""></li>
           <li><img src="qingge12.png" alt=""></li>
    </div>
</body>
<script>
        function anminte(el, obj){
                clearInterval(el.timer);               
                    el.timer = setInterval(function(){
                        // 设置一个标志 如果当前值 等于  目标值 则结束计时器
                        var flag = true;
                        for(var x in obj){
                            var current = el.offsetWidth;
                            var target = obj[x];

                            //设置一个速度
                            var speed = (target-current)/10;
                            el.style.width = speed + current + 'px';

                            if(current != target){
                                flag = false;
                            }
                        }
                        if(flag){
                            clearInterval(el.timer)
                        }
                        return false;
                    }, 15);                      
        }
        window.onload = function() {
            var aLi = document.querySelectorAll('li');
            aLi.forEach(function(val){
                // 当鼠标移入的时候  把这个li变成402px 其余的变成162px
                val.onmouseover = function(e) {
                    //保存节点指针
                    var _this = this;
                    aLi.forEach(function(val1) {
                        
                            anminte(val1, {
                                width: 249.2
                            })                        
                    });
                    anminte(this, {
                        width: 414
                    })
                }

                // 当鼠标移出的时候  都变成202px
                val.onmouseout = function(e) {
                    //保存节点指针
                    var _this = this;
                    aLi.forEach(function(val1) {
                            anminte(val1, {
                                width: 414px
                            })
                    });
                }
            });
        }
    </script>
</html>